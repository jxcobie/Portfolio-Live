{"version":3,"file":"projects-BWobjW1o.js","sources":["../../src/routes/projects.tsx"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\n\nimport { Card, CardDescription, CardHeader, CardTitle } from '../ui/card';\n\ninterface ProjectResponse {\n  data: Array<{\n    id: number;\n    title: string;\n    slug: string;\n    status: string | null;\n    short_description: string | null;\n    created_at: string | null;\n  }>;\n  meta: {\n    total: number;\n  };\n}\n\nasync function fetchProjects(): Promise<ProjectResponse> {\n  const response = await fetch('/api/v2/projects?page=1&pageSize=20', {\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    throw new Error(`Failed to load projects (${response.status})`);\n  }\n  return response.json();\n}\n\nexport default function ProjectsRoute() {\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['projects', 'list'],\n    queryFn: fetchProjects\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-3xl font-semibold tracking-tight\">Projects</h2>\n          <p className=\"text-muted-foreground\">Overview of published and in-progress portfolio work.</p>\n        </div>\n      </div>\n      <Card className=\"bg-slate-900/80\">\n        <CardHeader>\n          <CardTitle>Project inventory</CardTitle>\n          <CardDescription>\n            {isLoading && 'Loading projectsâ€¦'}\n            {error instanceof Error && <span className=\"text-rose-200\">{error.message}</span>}\n            {data && !isLoading && !error && `${data.meta.total} total projects`}\n          </CardDescription>\n          {!isLoading && !error && data && (\n            <div className=\"mt-4 space-y-2\">\n              {data.data.map((project) => (\n                <div\n                  key={project.id}\n                  className=\"rounded-lg border border-white/5 bg-slate-900/60 px-4 py-3 transition hover:border-primary/40\"\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"font-medium\">{project.title}</p>\n                      <p className=\"text-xs text-muted-foreground\">{project.slug}</p>\n                    </div>\n                    <span className=\"rounded-full bg-primary/10 px-3 py-1 text-xs uppercase tracking-wide text-primary\">\n                      {project.status ?? 'draft'}\n                    </span>\n                  </div>\n                  {project.short_description ? (\n                    <p className=\"mt-2 text-sm text-muted-foreground\">{project.short_description}</p>\n                  ) : null}\n                </div>\n              ))}\n              {data.data.length === 0 && <p className=\"text-sm text-muted-foreground\">No projects found.</p>}\n            </div>\n          )}\n        </CardHeader>\n      </Card>\n    </div>\n  );\n}\n"],"names":["fetchProjects","response","ProjectsRoute","data","isLoading","error","useQuery","jsxs","jsx","Card","CardHeader","CardTitle","CardDescription","project"],"mappings":"sGAkBA,eAAeA,GAA0C,CACvD,MAAMC,EAAW,MAAM,MAAM,sCAAuC,CAClE,YAAa,SAAA,CACd,EACD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,4BAA4BA,EAAS,MAAM,GAAG,EAEhE,OAAOA,EAAS,KAAA,CAClB,CAEA,SAAwBC,GAAgB,CACtC,KAAM,CAAE,KAAAC,EAAM,UAAAC,EAAW,MAAAC,CAAA,EAAUC,EAAS,CAC1C,SAAU,CAAC,WAAY,MAAM,EAC7B,QAASN,CAAA,CACV,EAED,OACEO,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,MAAC,MAAA,CAAI,UAAU,oCACb,SAAAD,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,WAAQ,EAC9DA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,uDAAA,CAAqD,CAAA,CAAA,CAC5F,CAAA,CACF,EACAA,MAACC,EAAA,CAAK,UAAU,kBACd,gBAACC,EAAA,CACC,SAAA,CAAAF,EAAAA,IAACG,GAAU,SAAA,mBAAA,CAAiB,SAC3BC,EAAA,CACE,SAAA,CAAAR,GAAa,oBACbC,aAAiB,OAASG,EAAAA,IAAC,QAAK,UAAU,gBAAiB,WAAM,QAAQ,EACzEL,GAAQ,CAACC,GAAa,CAACC,GAAS,GAAGF,EAAK,KAAK,KAAK,iBAAA,EACrD,EACC,CAACC,GAAa,CAACC,GAASF,GACvBI,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACZ,SAAA,CAAAJ,EAAK,KAAK,IAAKU,GACdN,EAAAA,KAAC,MAAA,CAEC,UAAU,gGAEV,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,cAAe,SAAAK,EAAQ,MAAM,EAC1CL,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAiC,WAAQ,IAAA,CAAK,CAAA,EAC7D,QACC,OAAA,CAAK,UAAU,oFACb,SAAAK,EAAQ,QAAU,OAAA,CACrB,CAAA,EACF,EACCA,EAAQ,kBACPL,MAAC,IAAA,CAAE,UAAU,qCAAsC,SAAAK,EAAQ,kBAAkB,EAC3E,IAAA,CAAA,EAdCA,EAAQ,EAAA,CAgBhB,EACAV,EAAK,KAAK,SAAW,SAAM,IAAA,CAAE,UAAU,gCAAgC,SAAA,oBAAA,CAAkB,CAAA,CAAA,CAC5F,CAAA,CAAA,CAEJ,CAAA,CACF,CAAA,EACF,CAEJ"}