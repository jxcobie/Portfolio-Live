import{j as e}from"./index-BpyIar97.js";import{u as n,C as i,a as d,b as c,c as l}from"./card-xEQmvPin.js";async function o(){const t=await fetch("/api/v2/bookings?upcoming=true&page=1&pageSize=20",{credentials:"include"});if(!t.ok)throw new Error(`Failed to load bookings (${t.status})`);return t.json()}function x(){const{data:t,isLoading:a,error:r}=n({queryKey:["bookings","upcoming"],queryFn:o,refetchInterval:3e5});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:"Bookings"}),e.jsx("p",{className:"text-muted-foreground",children:"Upcoming confirmed meetings synced from the new API."})]}),e.jsx(i,{className:"bg-slate-900/80",children:e.jsxs(d,{children:[e.jsx(c,{children:"Upcoming schedule"}),e.jsxs(l,{children:[a&&"Loading bookings…",r instanceof Error&&e.jsx("span",{className:"text-rose-200",children:r.message}),t&&t.data.length===0&&!a&&!r&&"No upcoming bookings."]}),!a&&!r&&t&&t.data.length>0&&e.jsx("div",{className:"mt-4 space-y-3",children:t.data.map(s=>e.jsxs("div",{className:"rounded-lg border border-white/5 bg-slate-900/60 px-4 py-3 transition hover:border-primary/40",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[s.date," · ",s.time," (",s.duration," min)"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.name," · ",s.email]})]}),e.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs uppercase tracking-wide text-primary",children:s.status??"pending"})]}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Meeting type: ",s.meeting_type]}),s.notes?e.jsx("p",{className:"mt-2 text-sm text-muted-foreground whitespace-pre-wrap",children:s.notes}):null]},s.id))})]})})]})}export{x as default};
//# sourceMappingURL=bookings-BGn9NCx2.js.map
