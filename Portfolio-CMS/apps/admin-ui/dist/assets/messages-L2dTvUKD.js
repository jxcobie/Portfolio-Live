import{j as e}from"./index-BpyIar97.js";import{u as i,C as n,a as d,b as l,c}from"./card-xEQmvPin.js";async function o(){const s=await fetch("/api/v2/messages?page=1&pageSize=20",{credentials:"include"});if(!s.ok)throw new Error(`Failed to load messages (${s.status})`);return s.json()}function h(){const{data:s,isLoading:r,error:t}=i({queryKey:["messages","list"],queryFn:o,staleTime:6e4});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:"Messages"}),e.jsx("p",{className:"text-muted-foreground",children:"Recent contact form submissions awaiting review."})]}),e.jsx(n,{className:"bg-slate-900/80",children:e.jsxs(d,{children:[e.jsx(l,{children:"Inbox"}),e.jsxs(c,{children:[r&&"Loading messages…",t instanceof Error&&e.jsx("span",{className:"text-rose-200",children:t.message}),s&&s.data.length===0&&!r&&!t&&"Inbox is clear."]}),!r&&!t&&s&&s.data.length>0&&e.jsx("div",{className:"mt-4 divide-y divide-white/10",children:s.data.map(a=>e.jsxs("article",{className:"flex flex-col gap-2 py-4",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:a.subject??"Untitled message"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",a.name," · ",a.email]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs uppercase tracking-wide ${a.is_read?"bg-emerald-500/10 text-emerald-300":"bg-primary/10 text-primary"}`,children:a.is_read?"Read":"Unread"})]}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:a.message})]},a.id))})]})})]})}export{h as default};
//# sourceMappingURL=messages-L2dTvUKD.js.map
